<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>x10.js - Primenumbers</title>
<style type="text/css">

pre { font-family: Menlo; font-size: 0.85em; }

</style>
</head>
<body>

<pre id="output"></pre>

<script src="x10.js"></script>
<script type="text/javascript">

var obj = {
	find: function(len) {
		var col = [];
		while (len--) {
			if (this.isPrime(len)) {
				col.unshift(len);
			}
		}
		return col;
	},
	isPrime: function(num) {
		if (num === 2) return true;
		if (num % 2 === 0) return false;
		for (var x=3; x<=Math.sqrt(num); x+=2) {
			if (num % x == 0) return false;
		}
		return true;
	}
};


var task = x10.compile(obj),
	start,
	found;

//document.getElementById('output').innerHTML = task;



start = Date.now();
found = obj.find(300000);
console.log( Date.now() - start );
//console.log(found);


start = Date.now();
task.find(300000, function(found) {
	console.log( Date.now() - start );
});

</script>

</body>
</html>
